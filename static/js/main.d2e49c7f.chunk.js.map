{"version":3,"sources":["api/api.js","redux/dialogs-reducer.js","components/common/Paginator/Paginator.module.css","assets/imgs/userPhoto.jpg","components/common/FormsControls/FormsControls.jsx","redux/auth-reducer.js","redux/app-reducer.js","components/Login/Login.jsx","components/header/header.jsx","components/header/headerContainer.jsx","components/navbar/navbar.jsx","utils/object-helpers.js","redux/users-reducer.js","redux/users-selectors.js","components/common/Paginator/Paginator.jsx","components/users/User.jsx","components/users/Users.jsx","components/users/usersContainer.jsx","hoc/WithSuspense.js","App.js","redux/sidebar-reducer.js","redux/redux-store.js","index.js","components/common/preloader/Preloader.js","components/common/FormsControls/FormsControls.module.css","components/navbar/navbar.module.css","utils/validators/validators.js","components/users/users.module.css","components/header/header.module.css","assets/imgs/loader.svg","redux/profile-reducer.js"],"names":["instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","getProfile","userId","console","warn","profileAPI","unFollow","id","delete","follow","post","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","log","logout","initialState","messages","message","dialogs","name","addMessageActionCreator","newMessage","type","dialogsReducer","state","action","body","module","exports","FormControl","input","meta","touched","error","children","hasError","className","styles","formControl","Textarea","props","restprops","child","Input","createField","placeholder","validators","component","text","validate","SET_USER_DATA","isFetching","isAuth","setAuthUserData","payload","auth","dispatch","a","resultCode","authReducer","initialized","appReducer","LoginReduxForm","reduxForm","form","handleSubmit","onSubmit","required","style","formSummaryError","connect","length","stopSubmit","_error","to","formData","header","s","Header","src","alt","loginBlock","onClick","HeaderContainer","this","Component","active","item","nav","Navbar","activeClassName","updateObjectinArray","items","itemId","objectPropName","newObjProps","map","u","users","totalUsersCount","followingInProgress","followSuccess","unfollowSuccess","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","usersReducer","followed","count","filter","usersPage","getUsersSuperSelector","createSelector","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionNumber","rightPortionNumber","p","key","selectedPage","e","User","user","unfollow","userPhoto","photos","small","disabled","some","Users","UsersContainer","pageNumber","getUsersThunkCreator","setCurrentPage","Preloader","React","compose","bind","page","totalCount","WithSuspense","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","exact","path","render","withRouter","app","promise","Promise","all","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","ReactDOM","basename","process","document","getElementById","preloader","value","maxLengthCreator","maxLength","posts","likesCount","profile","addPostActionCreator","newPostText","setStatusAC","getUsersProfile","newPost"],"mappings":"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","file":"static/js/main.d2e49c7f.chunk.js","sourcesContent":["import * as axios from \"axios\";\n\nconst instance = axios.create({\n  withCredentials: true,\n  baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\n  headers: {\n    \"API-KEY\": \"8308c36f-2bbb-47c3-b3eb-6b11d3220c35\",\n    \n  },\n});\n\nexport const usersAPI = {\n  getUsers(currentPage = 9, pageSize = 2) {\n    return instance\n      .get(`users?page=${currentPage}&count=${pageSize}`)\n      .then((response) => response.data);\n  },\n  getProfile(userId) {\n    console.warn(\"Obsolete method. Please profileAPI object\");\n    return profileAPI.getProfile(userId);\n  },\n\n  unFollow(id) {\n    return instance.delete(`follow/${id}`).then((response) => response.data);\n  },\n\n  follow(id) {\n    return instance.post(`follow/${id}`).then((response) => response.data);\n  },\n};\n\nexport const profileAPI = {\n  getProfile(userId) {\n    return instance.get(`profile/${userId}`).then((response) => response.data);\n  },\n  getStatus(userId) {\n    return instance.get(`profile/status/${userId}`);\n  },\n  updateStatus(status) {\n    return instance.put(`profile/status`, { status: status });\n  },\n};\n\nexport const authAPI = {\n  me() {\n    return instance.get(\"auth/me\");\n  },\n  login(email, password,rememberMe=false) {\n    console.log(email, password,rememberMe)\n    return instance.post(\"auth/login\",{email, password,rememberMe});\n  },\n  logout() {\n    return instance.delete(\"auth/login\");\n  },\n};\n","const SEND_MESSAGE = \"SEND_MESSAGE\";\n\n\nlet initialState = {\n  messages: [\n    { id: 1, message: \"Hi\" },\n    { id: 2, message: \"how are u?\" },\n    { id: 3, message: \"yo\" },\n    { id: 4, message: \"yo\" },\n    { id: 5, message: \"yo\" },\n  ],\n  dialogs: [\n    { id: 1, name: \"Akzhan\" },\n    { id: 2, name: \"Akzhan2\" },\n    { id: 3, name: \"Akzhan3\" },\n    { id: 4, name: \"Akzhan4\" },\n    { id: 5, name: \"Akzhan5\" },\n    { id: 6, name: \"Akzhan6\" },\n  ],\n \n};\n\nconst dialogsReducer = (state = initialState, action) => {\n  // let stateCopy = {...state};\n  //   stateCopy.messages = [...state.messages];\n\n  //   let stateCopy = {...state,\n  //     messages: [...state.messages]\n  //  };  //одно и тоже с коментом но написали в одну стрончку\n\n  switch (action.type) {\n    \n    case SEND_MESSAGE:\n      let body = action.newMessage;\n      return {\n        ...state,\n  \n        messages: [...state.messages, { id: 6, message: body }],\n      }; \n\n    default:\n      return state;\n  }\n};\n\nexport const addMessageActionCreator = (newMessage) => ({ type: SEND_MESSAGE,newMessage });\n\n\nexport default dialogsReducer;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__3SIki\"};","module.exports = __webpack_public_path__ + \"static/media/userPhoto.c819cf0f.jpg\";","import React from \"react\";\nimport styles from \"./FormsControls.module.css\";\nimport { Field } from \"redux-form\";\n\nconst FormControl = ({ input, meta: {touched,error}, children}) => {\n  const hasError = touched && error;\n  return (\n    <div className={styles.formControl + \" \" + (hasError ? styles.error : \" \")}>\n      <div>{children}</div>\n      {hasError && <span>{error}</span>}\n    </div>\n  );\n};\n\nexport const Textarea = (props) => {\n  const { input, meta, child, ...restprops } = props;\n  return (\n    <FormControl {...props}>\n      {\" \"}\n      <textarea {...input} {...restprops} />\n    </FormControl>\n  );\n};\n\nexport const Input = (props) => {\n  const { input, meta, child } = props;\n  return (\n    <FormControl {...props}>\n      <input {...input} {...props} />\n    </FormControl>\n  );\n};\n\nexport const createField = (placeholder, name, validators, component, props={},text=\"\") => (\n  <div>\n    <Field\n      placeholder={placeholder}\n      name={name}\n      component={component}\n      validate={validators}\n      {...props}\n    />\n    {text}\n  </div>\n);\n","import { authAPI } from \"../api/api\";\nimport { stopSubmit } from \"redux-form\";\n\nconst SET_USER_DATA = \"samurai-network /auth/SET_USER_DATA\";\n\nlet initialState = {\n  userId: null,\n  email: null,\n  login: null,\n  isFetching: false,\n  isAuth: false,\n};\n\nconst authReducer = (state = initialState, action) => {\n  //каждому reducer приходит свой кусочек state\n  switch (action.type) {\n    case SET_USER_DATA:\n      return {\n        ...state,\n        ...action.payload,\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst setAuthUserData = (userId, email, login, isAuth) => ({\n  type: SET_USER_DATA,\n  payload: { userId, email, login, isAuth },\n});\n\nexport const auth = () => {\n  return async (dispatch) => {\n    let response = await authAPI.me();\n\n    if (response.data.resultCode === 0) {\n      let { id, login, email } = response.data.data;\n      dispatch(setAuthUserData(id, email, login, true));\n    }\n\n    //then тоже возвращает promise\n  };\n};\n\nexport const login = (email, password, rememberMe) => {\n  return async (dispatch) => {\n    let response = await authAPI.login(email, password, rememberMe);\n\n    if (response.data.resultCode === 0) {\n      dispatch(auth());\n    } else {\n      let message =\n        response.data.messages.length > 0\n          ? response.data.messages[0]\n          : \"Some error\";\n      dispatch(stopSubmit(\"login\", { _error: message }));\n    }\n  };\n};\n\nexport const logout = () => {\n  return async (dispatch) => {\n    let response = await authAPI.logout();\n\n    if (response.data.resultCode === 0) {\n      dispatch(setAuthUserData(null, null, null, false));\n    }\n  };\n};\n\nexport default authReducer;\n","import { authAPI } from \"../api/api\";\nimport { stopSubmit } from \"redux-form\";\nimport { auth } from \"./auth-reducer\";\n\nconst INITIALIZED_SUCCESS = \"INITIALIZED_SUCCESS\";\n\nlet initialState = {\n  initialized: false,\n};\n\nconst appReducer = (state = initialState, action) => {\n  //каждому reducer приходит свой кусочек state\n  switch (action.type) {\n    case INITIALIZED_SUCCESS:\n      return {\n        ...state,\n        initialized: true,\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst initializedSuccess = () => ({\n  type: INITIALIZED_SUCCESS,\n});\n\nexport const initializeApp = () => (dispatch) => {\n  let promise = dispatch(auth());\n\n  Promise.all([promise]).then(() => {\n    dispatch(initializedSuccess());\n  });\n};\n\nexport default appReducer;\n","import React from \"react\";\nimport {reduxForm } from \"redux-form\";\nimport { Input } from \"../../components/common/FormsControls/FormsControls\";\nimport { required } from \"../../utils/validators/validators\";\nimport { connect } from \"react-redux\";\nimport { login } from \"../../redux/auth-reducer\";\nimport { createField } from \"../common/FormsControls/FormsControls\";\nimport { Redirect } from \"react-router-dom\";\nimport style from \"./../common/FormsControls/FormsControls.module.css\";\n\nconst LoginForm = ({ handleSubmit, error }) => {\n  return (\n    <form onSubmit={handleSubmit}>\n      {createField(\"Email\", \"email\", [required], Input)}\n      {createField(\"Password\", \"password\", [required], Input, {\n        type: \"password\",\n      })}\n      {createField(\n        null,\n        \"rememberMe\",\n        [],\n        Input,\n        { type: \"checkbox\" },\n        \"Remember me\"\n      )}\n      {error && <div className={style.formSummaryError}>{error}</div>}\n\n      <div>\n        <button>Log in</button>\n      </div>\n    </form>\n  );\n};\n\nconst LoginReduxForm = reduxForm({\n  // a unique name for the form\n  form: \"login\",\n})(LoginForm);\n\nconst Login = (props) => {\n  const onSubmit = (formData) => {\n    console.log(formData);\n    props.login(formData.email, formData.password, formData.rememberMe);\n    //Здесь login другая, connect вызывает другой callback который имеет одно и тоже имя который приходит с reducer\n  };\n\n  if (props.isAuth) {\n    return <Redirect to={\"/profile\"} />;\n  }\n\n  return (\n    <div>\n      <h1>Login</h1>\n      <LoginReduxForm onSubmit={onSubmit} />\n    </div>\n  );\n};\n\nlet mapStateToProps = (state) => ({\n  isAuth: state.auth.isAuth,\n});\n\nexport default connect(mapStateToProps, {\n  login,\n})(Login);\n","import React from \"react\";\nimport s from './header.module.css';\nimport { NavLink } from \"react-router-dom\";\n\nconst {header} = s;\n//Вложенность не сломаеться \n\nconst Header = (props) => {\n\n    return (\n      <header className = {header}>\n        <img src=\"https://cdn.worldvectorlogo.com/logos/tiktok-logo.svg\" alt=\"img\"/>\n      <div className={s.loginBlock}>\n          {props.isAuth ? <div>{props.login} <button onClick={props.logout}> Log out</button> </div>  :\n        <NavLink to={\"/login\"}>\n          Login\n        </NavLink>}\n      </div>\n      </header>\n    );\n}\n\nexport default Header;\n\n//Через props мы получаем данные из thunk \n//Мы поулчаем isAuth \n//if isAuth === true => показываем название логина \n//if isAuth ===false тогда делаем ссылку на компоненту логин","import React, { Component } from \"react\";\nimport Header from \"./header\";\nimport {logout} from \"../../redux/auth-reducer\";\nimport {connect} from \"react-redux\";\n\nclass HeaderContainer extends Component {\n\n\n  render() {\n    return <Header {...this.props} />;\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  isAuth: state.auth.isAuth,\n  login: state.auth.login\n})\n//эти данные из auth-reducer попадает в нашу компаненту\n\nexport default connect(mapStateToProps,{\n  logout\n})(HeaderContainer);\n// короткая запись mapDispatchToProps\n\n//Длинная запись была бы такой \n\n// const mapDispatchToProps = (dispatch) => {\n//   return {\n//     auth: () => {\n//       return dispatch(auth)\n//     }\n//   }\n// }\n\n//комментарий от 68 урока \n//У нас здесь есть контейнерная компонента headerContainer которая делает запрос на сервер\n// а потом мы headerContainer оборачиваем еще одной контейнерной компонентой которая делает connect \n//это сделано для того чтобы мы могли получать данные из redux","import React from \"react\";\nimport {NavLink} from \"react-router-dom\";\nimport s from './navbar.module.css'; // module.css делает уникальные имена классов \n//s это объект \n\nconst {active, item, nav} = s;\n\nconst Navbar = () => {\n  return (\n    <nav className={nav}>\n      <div className={item}>\n        <NavLink to=\"/profile\" activeClassName={active} > Profile</NavLink>\n      </div>\n      <div className={item}>\n        <NavLink to=\"/dialogs\" activeClassName={active}> Messages</NavLink>\n      </div>\n      <div className={item}>\n        <NavLink to=\"/users\" activeClassName={active}> Users</NavLink>\n      </div>\n      <div className={item}>\n        <NavLink to=\"/news\" activeClassName={active}> News</NavLink>\n      </div>\n      <div className={item}>\n        <NavLink to=\"/music\" activeClassName={active}> Music</NavLink>\n      </div>\n      <div className={item}>\n        <NavLink to=\"/setting\" activeClassName={active}> Settings</NavLink>\n      </div>\n    </nav>\n  );\n};\n\nexport default Navbar;\n","export const updateObjectinArray = (\n  items,\n  itemId,\n  objectPropName,\n  newObjProps\n) => {\n  return items.map((u) => {\n    if (u[objectPropName] === itemId) {\n      return { ...u, ...newObjProps };\n      //из за того что иммутабельно взяли копию элемента массива\n    }\n    return u;\n  });\n};\n","import { usersAPI } from \"../api/api\";\nimport {updateObjectinArray} from \"../utils/object-helpers\"\n\n\nconst FOLLOW = \"FOLLOW\";\nconst UNFOLLOW = \"UNFOLLOW\";\nconst SET_USERS = \"SET_USERS\";\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\nconst SET_TOTAL_COUNT = \"SET_TOTAL_COUNT\";\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE_IS_FOLLOWING_PROGRESS\";\n\nlet initialState = {\n  users: [],\n  pageSize: 5,\n  totalUsersCount: 0,\n  currentPage: 1,\n  isFetching: true,\n  followingInProgress: [],\n};\n\nconst usersReducer = (state = initialState, action) => {\n  //каждому reducer приходит свой кусочек state\n  switch (action.type) {\n    case FOLLOW:\n      return {\n        ...state,\n        users: updateObjectinArray(state.users, action.userId, \"id\",{followed: true})\n      };\n    case UNFOLLOW:\n      return {\n        ...state,\n        users: updateObjectinArray(state.users, action.userId, \"id\",{followed: false})\n      };\n\n    case SET_USERS: {\n      return { ...state, users: action.users };\n    }\n    case SET_CURRENT_PAGE:\n      return {\n        ...state,\n        currentPage: action.currentPage,\n      };\n    case SET_TOTAL_COUNT:\n      return {\n        ...state,\n        totalUsersCount: action.count,\n      };\n    case TOGGLE_IS_FETCHING:\n      return {\n        ...state,\n        isFetching: action.isFetching,\n      };\n    case TOGGLE_IS_FOLLOWING_PROGRESS:\n      return {\n        ...state,\n        followingInProgress: action.isFetching\n          ? [...state.followingInProgress, action.userId]\n          : [state.followingInProgress.filter((id) => id !== action.userId)],\n      };\n    default:\n      return state;\n  }\n};\n\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId });\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId });\nconst setUsers = (users) => ({ type: SET_USERS, users });\n\nexport const setCurrentPage = (currentPage) => ({\n  type: SET_CURRENT_PAGE,\n  currentPage,\n}); //current=> current:currentPage\nconst setTotalUsersCount = (totalUsersCount) => ({\n  type: SET_TOTAL_COUNT,\n  count: totalUsersCount,\n}); // type: SET_TOTAL_COUNT, count:totalUsersCount\nconst toggleIsFetching = (isFetching) => ({\n  type: TOGGLE_IS_FETCHING,\n  isFetching,\n}); //isFetching:true\nexport const toggleFollowingProgress = (isFetching, userId) => ({\n  type: TOGGLE_IS_FOLLOWING_PROGRESS,\n  isFetching,\n  userId,\n}); //isFetching:true\n\nexport const getUsersThunkCreator = (page, pageSize) => {\n  return async (dispatch) => {\n    dispatch(toggleIsFetching(true));\n    let response = await usersAPI.getUsers(page, pageSize);\n\n    dispatch(toggleIsFetching(false));\n    dispatch(setUsers(response.items));\n    dispatch(setTotalUsersCount(response.totalCount));\n    //мы задаем данные из api в setusers\n  };\n};\n\nconst followUnfollowFlow = async (\n  dispatch,\n  userId,\n  apiMethod,\n  actionCreator\n) => {\n  dispatch(toggleFollowingProgress(true, userId));\n\n  let response = await apiMethod(userId);\n  if (response.resultCode === 0) {\n    dispatch(actionCreator(userId));\n  }\n  dispatch(toggleFollowingProgress(false, userId));\n};\n\nexport const follow = (userId) => {\n  return async (dispatch) => {\n    followUnfollowFlow(\n      dispatch,\n      userId,\n      usersAPI.follow.bind(usersAPI),\n      followSuccess\n    );\n  };\n};\n\nexport const unfollow = (userId) => {\n  return async (dispatch) => {\n    followUnfollowFlow(\n      dispatch,\n      userId,\n      usersAPI.unFollow.bind(usersAPI),\n      unfollowSuccess\n    );\n  };\n};\n\nexport default usersReducer;\n","import { createSelector } from \"reselect\";\n\nexport const getUsers = (state) => {\n  return state.usersPage.users;\n};\n\nexport const getUsersSelector = (state) => {\n  return getUsers(state).filter((u) => true);\n};\n\nexport const getUsersSuperSelector = createSelector(getUsers, (users) => {\n  return users.filter((u) => true);\n});\n\nexport const getPageSize = (state) => {\n  return state.usersPage.pageSize;\n};\n\nexport const getTotalUsersCount = (state) => {\n  return state.usersPage.totalUsersCount;\n};\n\nexport const getCurrentPage = (state) => {\n  return state.usersPage.currentPage;\n};\n\nexport const getIsFetching = (state) => {\n  return state.usersPage.isFetching;\n};\n\nexport const getFollowingInProgress = (state) => {\n  return state.usersPage.followingInProgress;\n};\n","import React, { useState } from \"react\";\nimport styles from \"./Paginator.module.css\";\n\nconst Paginator = ({\n  totalItemsCount,\n  pageSize,\n  currentPage,\n  onPageChanged,\n  portionSize = 10,\n}) => {\n  let pagesCount = Math.ceil(totalItemsCount / pageSize);\n  let pages = [];\n  for (let i = 1; i <= pagesCount; i++) {\n    pages.push(i);\n  }\n\n  let portionCount = Math.ceil(pagesCount / portionSize);\n  let [portionNumber, setPortionNumber] = useState(1);\n  let leftPortionNumber = (portionNumber - 1) * portionSize + 1;\n  let rightPortionNumber = portionNumber * portionSize;\n\n\n  return (\n    <div>\n      <div>\n        {portionNumber > 1 && (\n          <button\n            onClick={() => {\n              setPortionNumber(portionNumber - 1);\n            }}\n          >\n            prev\n          </button>\n        )}\n        {pages\n          .filter((p) => p >= leftPortionNumber && p < rightPortionNumber)\n          .map((p) => {\n            return (\n              <span\n                key={p}\n                className={currentPage === p && styles.selectedPage}\n                onClick={(e) => {\n                  onPageChanged(p);\n                }}\n              >\n                {p}{\" \"}\n              </span>\n            );\n          })}\n        {portionCount > portionNumber && (\n          <button\n            onClick={() => {\n              setPortionNumber(portionNumber + 1);\n            }}\n          >\n            next\n          </button>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Paginator;\n","import React from \"react\";\nimport styles from \"./users.module.css\";\nimport userPhoto from \"../../assets/imgs/userPhoto.jpg\";\nimport { NavLink } from \"react-router-dom\";\n\nconst User = ({ user, followingInProgress, follow, unfollow }) => {\n  \n  return (\n    <div key={user.id}>\n      <span>\n        <div>\n          <NavLink to={`/profile/${user.id}`}>\n            <img\n              className={styles.userPhoto}\n              src={user.photos.small != null ? user.photos.small : userPhoto}\n              alt={user.id}\n            />\n          </NavLink>\n        </div>\n        <div>\n          {user.followed ? (\n            <button\n              disabled={followingInProgress.some((id) => id === user.id)}\n              onClick={() => {\n                unfollow(user.id);\n              }}\n            >\n              unFollow{\" \"}\n            </button>\n          ) : (\n            <button\n              disabled={followingInProgress.some((id) => id === user.id)}\n              onClick={() => {\n                follow(user.id);\n              }}\n            >\n              Follow\n            </button>\n          )}\n        </div>\n      </span>\n      <span>\n        <span>\n          <div>{user.name}</div>\n          <div>{user.status}</div>\n        </span>\n        <span>\n          {/* <div>{user.location.country}</div> */}\n          {/* <div>{user.location.city}</div> */}\n        </span>\n      </span>\n    </div>\n  );\n};\n\nexport default User;\n","import React from \"react\";\nimport styles from \"./users.module.css\";\n\nimport Paginator from \"../common/Paginator/Paginator\";\nimport User from \"./User\";\nconst Users = ({\n  currentPage,\n  onPageChanged,\n  totalUsersCount,\n  pageSize,\n  users,\n  followingInProgress,\n  follow,\n  unfollow,\n  ...props\n}) => {\n  return (\n    <div>\n      <Paginator\n        currentPage={currentPage}\n        onPageChanged={onPageChanged}\n        totalItemsCount={totalUsersCount}\n        pageSize={pageSize}\n      />\n      {users.map((u) => (\n        <User\n          key={u.id}\n          user={u}\n          followingInProgress={followingInProgress}\n          follow={follow}\n          unfollow={unfollow}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default Users;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  follow,\n  unfollow,\n  setCurrentPage,\n  getUsersThunkCreator,\n} from \"../../redux/users-reducer\";\n\nimport {\n  getPageSize,\n  getTotalUsersCount,\n  getCurrentPage,\n  getIsFetching,\n  getFollowingInProgress,\n  getUsersSuperSelector,\n} from \"../../redux/users-selectors\";\nimport Users from \"./Users\";\nimport Preloader from \"../common/preloader/Preloader\";\nimport { compose } from \"redux\";\n\nclass UsersContainer extends React.Component {\n  componentDidMount() {\n    let { currentPage, pageSize } = this.props;\n    this.props.getUsersThunkCreator(currentPage, pageSize);\n  }\n\n  onPageChanged = (pageNumber) => {\n    let { pageSize } = this.props;\n    this.props.getUsersThunkCreator(pageNumber, pageSize);\n    this.props.setCurrentPage(pageNumber);\n  };\n\n  render() {\n    return (\n      <>\n        {this.props.isFetching ? <Preloader /> : null}\n        <Users\n          totalUsersCount={this.props.totalUsersCount}\n          pageSize={this.props.pageSize}\n          currentPage={this.props.currentPage}\n          selectedPage={this.props.selectedPage}\n          onPageChanged={this.onPageChanged}\n          users={this.props.users}\n          follow={this.props.follow}\n          unfollow={this.props.unfollow}\n          followingInProgress={this.props.followingInProgress}\n        />\n      </>\n    );\n  }\n}\n\nlet mapStateToProps = (state) => {\n  return {\n    // users: getUsers(state),\n    users: getUsersSuperSelector(state),\n    pageSize: getPageSize(state),\n    totalUsersCount: getTotalUsersCount(state),\n    currentPage: getCurrentPage(state),\n    isFetching: getIsFetching(state),\n    followingInProgress: getFollowingInProgress(state),\n  };\n};\n\n// let mapStateToProps = (state) => {\n//     return {\n//         users: state.usersPage.users,\n//         pageSize: state.usersPage.pageSize,\n//         totalUsersCount: state.usersPage.totalUsersCount,\n//         currentPage: state.usersPage.currentPage,\n//         isFetching: state.usersPage.isFetching,\n//         followingInProgress: state.usersPage.followingInProgress\n//     }\n// }\n//mapStateToProps сама делает запрос к store получает state и subscribe\n\n// let mapDispatchToProps = (dispatch) => {\n//     return {\n//          follow: (userId) => {\n//             dispatch(followAC(userId));\n//          },\n//          unfollow: (userId) => {\n//             dispatch(unfollowAC(userId));\n//          },\n//          setUsers: (users) => {\n//              dispatch(setUsersAC(users));\n//              //отправляет данные в setUSersAc\n//              //в users-reducer setUsrs(actionCreator) возвращает новый объект с данными из сервера\n//             //Итого диспачется новый объект и попадаем в reducer\n//             },\n//             setCurrentPage: (pageNumber) => {\n//                 dispatch(setCurrentPageAC(pageNumber))\n//             },\n//             setTotalUsersCount: (totalCount) => {\n//                 dispatch(setTotalUsersCountAC(totalCount))\n//             },\n//             toggleIsFetchingAC: (isFetching) => {\n//                 dispatch(toggleIsFetchingAC(isFetching))\n//             }\n//     }\n// }\nexport default compose(\n  connect(mapStateToProps, {\n    follow,\n    unfollow,\n    setCurrentPage,\n    getUsersThunkCreator, //находится в reducer\n  })\n)(UsersContainer);\n\n//ДО COMPOSE\n// let withRedirect = withAuthRedirect(UsersContainer);\n// export default connect(mapStateToProps,{\n//     follow,\n//     unfollow,\n//     setCurrentPage,\n//     getUsersThunkCreator\n// })(withRedirect);\n\n// второй способ обявления mapDisptachToProps\n//сама создаем callback и делает dispatch\n","import React from \"react\";\nimport Preloader from \"../components/common/preloader/Preloader\";\n\nexport const WithSuspense = (Component) => {\n  return (props) => {\n    return (\n      <React.Suspense fallback={<Preloader />}>\n        <Component {...props} />\n      </React.Suspense>\n    );\n  };\n};\n","import React, { Component, Suspense } from \"react\";\nimport { Route } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { compose } from \"redux\";\nimport { initializeApp } from \"./redux/app-reducer\";\nimport Login from \"./components/Login/Login\";\nimport HeaderContainer from \"./components/header/headerContainer\";\nimport Navbar from \"./components/navbar/navbar\";\n//import ProfileContainer from \"./components/profile/profileContainer\";\n// import DialogsContainer from \"./components/dialogs/dialogsContainer\";\nimport UsersContainer from \"./components/users/usersContainer\";\n// import News from \"./components/news/news\";\n// import Setting from \"./components/setting/setting\";\n// import Music from \"./components/music/music\";\nimport \"./App.css\";\nimport Preloader from \"./components/common/preloader/Preloader\";\nimport { WithSuspense } from \"./hoc/WithSuspense\";\n\n//lazy loading\nconst DialogsContainer = React.lazy(() =>\n  import(\"./components/dialogs/dialogsContainer\")\n);\nconst ProfileContainer = React.lazy(() =>\n  import(\"./components/profile/profileContainer\")\n);\n\nclass App extends Component {\n  componentDidMount() {\n    this.props.initializeApp(); //Использовали thunk\n  }\n\n  render() {\n    if (!this.props.initialized) {\n      return <Preloader />;\n    }\n    return (\n      <div className=\"app-wrapper\">\n        <HeaderContainer />\n        <Navbar />\n        <div className=\"app-wrapper-content\">\n          <Route\n            exact\n            path=\"/dialogs\"\n            render={WithSuspense(DialogsContainer)}\n          />\n          <Route\n            path=\"/profile/:userId?\"\n            render={WithSuspense(ProfileContainer)}\n          />\n          <Route path=\"/users\" render={() => <UsersContainer />} />\n          <Route path=\"/login\" render={() => <Login />} />\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    initialized: state.app.initialized,\n  };\n};\n\nexport default compose(\n  withRouter,\n  connect(mapStateToProps, {\n    initializeApp,\n  })\n)(App);\n\n{\n  /* <Route path=\"/news\" component={News} />\n<Route path=\"/music\" component={Music} />\n<Route path=\"/setting\" component={Setting} /> */\n}\n","let initialState = {};\n\nconst sidebarReducer = (state = initialState, action) => {\n\n    return state;\n}\n\nexport default sidebarReducer;","import { createStore, combineReducers, applyMiddleware,compose } from \"redux\";\nimport profileReducer from \"./profile-reducer\";\nimport dialogsReducer from \"./dialogs-reducer\";\nimport sidebarReducer from \"./sidebar-reducer\";\nimport usersReducer from \"./users-reducer\";\nimport authReducer from \"./auth-reducer\";\nimport appReducer from \"./app-reducer\";\nimport thunkMiddleware from \"redux-thunk\";\nimport { reducer as formReducer } from \"redux-form\";\n\nlet reducers = combineReducers({\n  profilePage: profileReducer,\n  dialogsPage: dialogsReducer,\n  sidebar: sidebarReducer,\n  usersPage: usersReducer,\n  auth: authReducer,\n  form: formReducer,\n  app: appReducer,\n});\n\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware));\n\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers, composeEnhancers( applyMiddleware(thunkMiddleware)))\nwindow.__store__ = store;\n\nexport default store;\n\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport store from \"./redux/redux-store\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <Router basename={process.env.PUBLIC_URL}>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </Router>,\n\n  document.getElementById(\"root\")\n);\n\n// store.subscribe(() => {\n//   renderTree();\n// });\n\n//компонента делает свой subscribe и уже store.subscribe не нужно\n","import React from \"react\";\nimport preloader from \"../../../assets/imgs/loader.svg\";\n\n\nconst Preloader = (props) => {\n    return (\n        <>\n            <img src={preloader} alt={preloader}/>\n        </>\n    )\n}\n\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__3oI2W\",\"error\":\"FormsControls_error__9lcue\",\"formSummaryError\":\"FormsControls_formSummaryError__1F2-S\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"navbar_nav__3IIWD\",\"item\":\"navbar_item__2CJlB\",\"active\":\"navbar_active__1LL-m\"};","export const required = (value) => {\n    if(value) return undefined;\n    return 'Filed is required';\n\n}\n\n\n\nexport const maxLengthCreator = (maxLength) => (value) => {\n    if(value && value.length > maxLength ) return `Max length is ${maxLength} symbols`;\n    return undefined;\n\n}\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__2Bfxq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__v9FKw\",\"loginBlock\":\"header_loginBlock__39tD3\"};","module.exports = __webpack_public_path__ + \"static/media/loader.9064981b.svg\";","import { usersAPI } from \"../api/api\";\nimport { profileAPI } from \"../api/api\";\n\nconst ADD_POST = \"ADD-POST\";\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\";\nconst SET_STATUS = \"SET_STATUS\";\n\nlet initialState = {\n  posts: [\n    { id: 1, message: \"Hi\", likesCount: 12 },\n    { id: 2, message: \"how are u?\", likesCount: 11 },\n  ],\n  profile: null,\n  status: \"\",\n};\n\nconst profileReducer = (state = initialState, action) => {\n  //каждому reducer приходит свой кусочек state\n\n  switch (action.type) {\n    case ADD_POST:\n      let newPost = {\n        id: 5,\n        message: action.newPostText,\n        likesCount: 0,\n      };\n\n      return {\n        ...state,\n        newPostText: \"\",\n        posts: [...state.posts, newPost],\n      };\n\n    case SET_STATUS: {\n      return { ...state, status: action.status };\n    }\n\n    case SET_USER_PROFILE:\n      return {\n        ...state,\n        profile: action.profile,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const addPostActionCreator = (newPostText) => ({\n  type: ADD_POST,\n  newPostText,\n});\nexport const setStatusAC = (status) => ({ type: SET_STATUS, status });\nexport const setUserProfile = (profile) => ({\n  type: SET_USER_PROFILE,\n  profile,\n});\n\n//ТАК КАК ЭТО У НАС AJAX ЗАПРОС СОЗДАЕМ THUNK\nexport const getUsersProfile = (userId) => {\n  return async (dispatch) => {\n    let response = await usersAPI.getProfile(userId);\n    dispatch(setUserProfile(response));\n  };\n};\n\nexport const getStatus = (userId) => {\n  return async (dispatch) => {\n    let response = await profileAPI.getStatus(userId);\n    dispatch(setStatusAC(response.data)); //data.data\n  };\n};\n\nexport const updateStatus = (status) => {\n  return async (dispatch) => {\n    let response = await profileAPI.updateStatus(status);\n    if (response.data.resultCode === 0) dispatch(setStatusAC(status));\n  };\n};\n\nexport default profileReducer;\n"],"sourceRoot":""}